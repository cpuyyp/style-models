I managed to find a workaround for this but I am not very happy about it. I installed my previuos setup which was EasyPHP and copied my old MySQL *data* dir into the EasyPHP *MySQL* data directory. This time around the database was able to read the .ibd / .frm files correctly.(even though these files did not change at all) I then used phpMyAdmin to export the database(this time around all tables/data was stored in the sql file) I then disabled EasyPHP enviroment and started up my new enviroment and used phpMyAdmin->import with the new sql file which loaded the data correctly. Overall I think its pretty poor that MySQL cant simply output some type of notice stating that the .ini enviroment variables are not set corresponding to the .ibd / .frm files rather than just output incorrect information and leave the user in the dark with all sorts of angles to think about. After googling around it seems many people seem to believe that their data is corrupt when that's really not the case. 

I have a table images, which I use to store a file name, file hash and date created. I also need the width, height and watermark overlay of each image, but only on very small occasions do I need to access/update this data, should I create another table and setup a foreign key relation to hold just these values, and when I do need this data, use a join? Should I just store the width, height and watermark overlay values inside the images table? Thanks 

Therefore the function can't go get the information it needs. It must be fed the information. And there's simply no way (that I can think of) to collect the data from multiple rows and feed it to the function. You can feed a deterministic function XML to manipulate, but you can't create the base XML without a subquery. So in short, I don't think there's any way using an indexed view to materialize XML which contains data from multiple rows in any table. 

I thought it might have to do with the string concatenation happening for the haystack but not the needle, but when I tried this, it still didn't "work": 

We have a SQL Server 2005 Analysis Server which began restarting this weekend, seemingly without any external changes. The current state of the server is that as long as the SSAS service is enabled, it will keep restarting. If the service is manually disabled and then stopped, the service will no longer cycle. But as soon as it is enabled, the service will begin to cycle again. Internet searching finds a few examples of this behavior, but without a resolution which seems applicable. See, e.g.: Service Level Accounts - SQL 2005 SSAS - Error connecting to OLAP. See also, e.g.: I Can’t Connect to Analysis Services in SSMS... Brent Ozar reported a similar problem on LessThanDot, but there was no resolution on the thread and the last entry was at Fri Mar 27, 2009 4:08 pm. This is a snippet of the msmdsrv.log file: 

I must enforce uniqueness within my table, But I cannot seem to find anywhere online(mysql manual,forums,stack overflow) talk about two unique constraints within one table. Why you might ask I need two? example 

Here I have highlighted three problems which can occur, how can we enforce integrity here. PS Is there a name for what I have described? I assume in maths there are some terms for this, I did some research around ordinal numbers but it doesn't fit exactly into this. Describing this as just a set wouldn't allow for the issues I raised to be assumed problematic. Thanks 

pid and car must be unique and appear only once. pid and serial must be unique and appear only once. At first I thought to add a constraint UNIQUE (pid,car,color), but with this constraint we could still enter false data as in the example, 

We have a table which has a column defined for set(to group rows) and a column defined for hierarchy(order position), how do we enforce hierarchy ordering position integrity within each set? An example of what I mean. 

I seem to have came to a problem which I am having trouble solving, possibly because I have misunderstood intersections properly(or perhaps I shouldn't even use intersections for the goal). If we have a year table and use its primary key id in our intersection table to link to one actors primary key id, How can we populate the actors_nickname table before hand using one primary key id (to group together the rows)? which we then use after to populate the intersection table? year 

You can also use a UDF to enforce a custom CHECK constraint on a column, which could go and check the other. But there are some scenarios where that falls apart. 

(2 additional events removed and some information obfuscated) Yet there was still nothing in the "Test Login Audit" event session we created on event . So the extended events system and ring buffer are working. And logins are occurring. So why aren't we getting any events? Do we misunderstand what a "login" is? Is this not yet a complete feature? We get this back from @@VERSION: 

Is QuestionNumber a unique identifier somehow for table Questions? Or is the QuestionBank designed to have, say, 5 different sets of questions with numbers 1 through 25? If Questions.QuestionNumber is a mere non-unique ordering value for a given BankId, then there's no way to know, when saving a QuizQuestionStudent record, what QuestionBank a particular question belongs to without presuming that the answer is for a question in the proper bank. When QuestionNumber = 5, you'd have no idea how to check its BankId if multiple banks had a fifth question. You could presume it belongs to the same BankId as the Quiz, but then what is left for the database to check? Now, if QuestionNumber is unique, you have a different problem. You want the Question's BankId to be required to be the same as the Quiz's BankId. Repeating the BankId in the QuizQuestionStudent table wouldn't help, because that value is coming from the app and it's what you're trying to check. You want to make sure data in two other tables conforms not just to QuizQuestionStudent values, but also to each other's values. You can't do that with a foreign key. (A significantly different design for all of the tables might eliminate the issue, but I wasn't able to come up with one.) However, it can still be strongly enforced at the database layer. You can create an "indexed view" or "materialized view" and then constrain its values. The view can reference multiple tables. It would pull the BankId from two different paths and make sure they are the same. 

Extend or adjust for data types as needed. Remove for each data type if you wish to allow null values. The only complexity is the constraint to enforce that the appropriate column is used. If values are mandatory, then the check constraint can be written as 

Note that for some cases, an statement can be turned into a expression which is somewhat similar to the operator in C and Java, but more generic. Your pseudo-code: 

All I've done is move all the code into a stored procedure, and redefined the trigger to CALL that procedure. 

is purely a shorthand way to create an column with an associated sequence for its default values. The documentation for linked from the question even says as much: 

If the two tables share ID space, surely then they should have a common parent table? I would create a parent table and make the two other tables children of it with foreign keys. The parent has the autoincrement field, and you have to insert there first before inserting the child. Add a "type" column to the parent table so you know in which table to look for the child with the given ID. The biggest advantage to this approach is that you don't need any triggers. No performance or synchronicity problems to worry about. In PostgreSQL you would implement this using inheritance, but I don't think MySQL has this feature. 

Result: "aӒa" I suspected it might have to do with how it's interpreting the characters, so I tried specifying a binary collation... and that "fixed" the issue: 

Microsoft's NEWID() documentation does not explain, but I agree that the likely reason is related @Payload's comment on another answer: 

There are no SQLDmprNNNN.mdmp files which seem to be created. There is no other error logging that we are aware of. How can we find out what's wrong? Is there a way we can tell if any third party services or processes are cycling the SSAS service? We have also posted this question on SQL Server Central. 

While you could create complex, multi-level XML within the function, the function cannot reference any tables (or it wouldn't be deterministic). For example, this: 

So you can't nest these views, and you can't use subqueries. You can't use the APPLY operator either, so you can't use a table-valued user-defined function (nor can you effectively use the XML function). But you can use deterministic scalar-valued functions. So you can construct some rudimentary XML. For example: 

I can't answer why 2016 takes so much more time, but a workaround seems to be to obscure some of the operations from the optimizer. If you mask the XML construction portion of the process by putting it behind a scalar function, the compilation time drops to about a second. It's still significantly slower than on 2008 R2, but it might be fast enough. 

If a Team must have a minimum of 11 FootballPlayers, how can we enforce this within the database design? Could I use Triggers? Perhaps One To Many is wrong? ... 

From my current knowledge and experience, it is not possible to insert NULL into a DATE type, so what would be the point in declaring NOT NULL at table creation? I see this quite often throughout many SQL queries online, including my own, and wondered if there is another reason to do it? 

Is there a naming convention for lookup tables? I cannot see any declaration by oracle or anything consistent on google. However I assume some of you professional DBAs follow a convention? Perhaps there is a convention which occurs the most when you are called to edit a project you didn't author? example table metals 

Currently, the hierarchy values of these above rows are all perfect, however we can ruin integrity in the rows below by doing the following. 

I decided to change to LK_ + original table + column as it allows easier navigation when browsing all tables. 

Inside the import file each CREATE TABLE statement is suffixed by IF NOT EXISTS, so why is this being reported as an error? I have tried to take out the table reported from the sql file, but then the next table just throws up the error, and the next etc until we have a sql import with no tables left. I am using Windows XP with MySQL 5.5.37-win32, these versions could be different from the versions used when creating the backup, would this matter? Thanks in advance. Edit : Added SQL code. This is just a sample, the code is created by phpMyAdmin's export function 

You might think you could cheat by creating an outer view which didn't have a subquery, calling the original view. But if you try: 

Update 2017-07-07: For those curious, we have solved the original connection issue. By default, named instances of SQL Server listen using dynamic ports. Our firewall only allowed port 1433. From Microsoft's documentation on configuring ports: 

We adjusted the SQL Server's port to 1433 and the connection issue was resolved. (Dynamic port allocation requires at least UDP port 1434 to allow the initial port query, and then the firewall would have to sniff and auto-allow the resulting dynamically assigned port, much like many can do for FTP PASV commands. I'm not sure if any can do that for SQL port negotiation like this.) However, as this is primarily a question about certain extended events not firing, I plan to leave the question open. 

is set before , yet it sometimes has a later value. (I've tried this on SQL Server 2008 R2 and SQL Server 2016. You have to run it a few times to catch the suspect occurrences.) This does not appear to be simply a matter of rounding or lack of precision. (In fact, I think the rounding is what "fixes" the issue occasionally.) The values for a sample run are as follows: 

I'd go for option 1. With this approach there are no "hacks" in the app for anonymous users. The standard security model continues to apply with the only difference being that if you don't know who the user is (ie, they haven't authenticated) that you pretend they are the anonymous user, which in effect they are. Option 1 is also the approach used by most (all?) web servers and file servers: they use an "anonymous" or "nobody" user. 

Determine dependencies between systems both on the "from" side and on the "to" side. This will affect the "flow" of the migration. Decide how the data will be migrated. Amongst others, choices are: 

One way you could do something like this on Oracle is to use a with . The rows will "disappear" at the end of the transaction. If you're using a host environment such as JDBC with autocommit, this will make it look like what you describe. If performance is important, this approach will be much faster than the "discarding trigger" approach. Syntax: 

Compare this to Option #2 that Rolando posted and you'll notice I removed one column each from the SELECT and GROUP BY clauses. 

(That will break down if you have more complex or custom nesting requirements.) Regardless of this particular example, I don't think there's an effective way to get (dynamic) XML into an indexed view. First, a "indexed view" is really a view with a unique clustered index. You can't create "normal" indexes on an XML column. Let's say you try: 

We never found out what was causing the service to stop, but we were able to prevent it from happening. We put a Deny on the Stop permission for SSAS service for the SQL Server (not SSAS) service account user. So it seems something acting as the SQL Server's service account user was issuing the Stop command for the SSAS account. This was a while ago, and we've since switched servers, and we stopped digging to figure out what was really happening. So it will remain a mystery for the ages. 

Short answer: You can't. Long answer: There's a few things going on here. First, you might be underestimating the power of . It will provide a certain amount of nesting "automatically". Your provided example, in fact, could be handled without the nested XML generation. Let's make some test tables and data: 

IMHO the easiest way to get an OWA application to work is by installing a standard Apache distribution and the open source mod_owa. This is easiest on modern 64bit Windows, downloading Apache 2.4 from $URL$ and mod_owa from $URL$ 

Oracle's wrap program doesn't wrap triggers. The way to do this is to move the code into a package or a stand-alone procedure, and make the trigger a one line call to invoke this code. See the documentation on the limitations of wrapping: $URL$ In your case, something like the following (untested) should work: 

If you really need to do this (a la Windows Registry values) I would probably try to keep it simple and keep it to one table something like this (untested pseudo-DDL): 

I presume you mean that you get an error with this query, and that if you remove the where clause you get no error, but not the right answer. You need a clause, which is like but can be applied to the aggregated results: 

Be careful. Your two designs are not the same. Case 1 implements a unique constraint on the name of the book but includes case, so "The Lord of the Flies" and "the lord of the flies" would be different. Case 1 then creates a second index to support efficient searching of queries of the form