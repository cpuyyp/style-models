NOTE: I don't want to hear the merits of virtual switch placement or their role within a virtual and physical network. I also do not want to debate the merits of SDN for application time-to-deployment. 

Looking for answers/comments that could be considered best practice or what you've found works best in a typical enterprise network. 

If VRF is implemented for routing table separation such as having an overlay network for a guest network that doesn't mix with regular LAN routing, is migrating to it easily done on Cisco switches (4500 and 6500)? Please enumerate the high-level steps. Must all commands such as "show ip route" include the VRF name or does that same command work and just shows the default VRF? It is possible to rollback VRF easily? What concerns are there rolling forward or back -- any downtime expected? IGP is OSPF if this makes a difference. 

For an enterprise migrating from traditional Internet IPSec L2L VPNs for branch offices to a MPLS-based VPN, there are options for either a L2VPN or L3VPN. The L2VPN looks more attractive as you have nearly complete control over it to run your own routing protocols that don't require ISP coordination or MP-BGP in their network to support the VRF routing. 

In order of preference/priority, what factors do you consider in driving an upgrade (or downgrade) with Cisco IOS? If no compelling factors exist, how long would you allow a particular version of IOS to stay running? I've seen some switches with uptimes > 5 years. And when upgrading, how is the specific IOS release identified as the upgrade target? 

Splash or Login page redirect occurs when browsing to a non-secure, plain-text URL; webauth shows Authenticated with NAC state RUN, traffic flows. This is what's expected to happen, but doesn't happen often. Splash or Login page redirect does not occur when browsing to a non-secure, plain-text URL; webauth shows Authenticated with NAC state RUN, traffic flows (but shouldn't after removing client from WLC to force webauth redirect which didn't show). Splash or Login page redirect doesn't occur when browsing to a non-secure, plain-text URL; webauth not authenticated with NAC state WEBAUTH, traffic flows (but shouldn't). Splash or Login page redirect occurs when browsing to a non-secure, plain-text URL; webauth shows Unauthenticated with NAC state WEBAUTH, traffic doesn't flow (but should if WEBAUTH was shown as passed). Splash or Login page redirect doesn't occur when browsing to a non-secure, plain-text URL; webauth not authenticated with NAC state WEBAUTH, traffic doesn't flow (as expected). 

The ability to SSH to the firewall and ping outbound are usually two unrelated events and configuration. Since you're unable to ping the firewall's own from itself, the interface appears down. After ensuring vlan 100 is up/up, you'll need both a crypto key for SSH and a statement like to permit all inside hosts on that subnet to SSH into the firewall. Also check your SSH supported versions so client and server (firewall) are compatbile. 

Using the car analogy, there's 1000+ km between central France and central Spain. After a certain number of cars arrive at the destination, you need to ACKnowledge that they arrived by sending a car in the other direction which incurs delay. To minimize effects of the long pipe, you need to keep both sides of the road filled with traffic. This ties into the question of window sizes to allow the pipe to remain full. Of course, we're assuming the app is able to not let the network buffers flush out and have nothing left to send. Tuning TCP for High Bandwidth-Delay Networks gives a concise technical explanation of the Long Fat Network issue with respect to the Bandwidth-Delay Product with some simple animations to illustrate the issue with keeping the pipe full in both directions! 

In addition, do not use the native (untagged) vlan on any portgroups. Use the native vlan for the management or service-console VMKernel networks which also allow kickstarting for installs over DHCP or BOOTP before tagging can be used. 

When designing an access layer, best practices today seem to indicate going toward a L3 design. I know the answers may be different depending on whether or not we talking about a DC design or Enterprise Campus design. Please describe when you would choose L2 over L3 in the access layer and the differences in design with DC vs. campus. I know L2 adjacency requirements between servers such as clusters (Windows, VMWare, etc) would push for L2 in the DC access. Are there other factors too? (And if L2 is required, is it best practice is carry that L2 traffic up to the Aggregation layer and back down or just carry that L2 across directly connected trunks between access switches (i.e., build in looped squares instead of triangles). Do you keep L2 adjancies limited to just a pair of access switches so as to not increased the broadcast/collision/STP domains? In the Enterprise campus, assuming no L2 adjacency requirements, are there any cases that would indicate a design other than L3 in the access layer? 

Without knowing much of your environment, you might want to look at Squid as a reverse proxy which can easily do what you seek. A reverse proxy is basically a load-balancer. No need to do anything on your firewall; in fact, this simplifies your firewall configuration. All subdomains would resolve to the same VIP (virtual IP) that lands on Squid configured to do web acceleration. You can easily configure to send incoming requests to different origin-servers based on the header seen in the http request. As a side benefit, you can do caching on Squid and serve static content directly from it without taxing your web servers. And the best part of this solution is that it's free. 

If a MPLS-VPN (L3VPN) is used, DIA can be provided on that same service, though I have no direct experience with this and am not sure if it's generally a good or bad idea. Also, I don't think DIA is generally provided as a service or possible with L2VPN, but please confirm. WAAS will also be used in the future if that has any influence on whether to go L2 or L3VPN. Each branch office currently has their own DIA and will continue to have that provided either separately or multiplexed with the VPN. WAAS would be done in 2900 ISRs in the branch office and TBD in main corporate office. Should encryption -- not PCI/not HIPPA required -- be mandatory as we do now with IPSec or is there usually enough inherent trust with either the L2 or L3VPN implementations with VRFs; specifically, does SOX say anything about requiring encryption? (Bonus points) Terminating the VPN on a router inside the firewall seems to be the way to go, though with DIA multiplexed on the VPN seems to thrown a monkey-wrench into this as DIA is usually outside the firewall. With or without DIA to worry about, having the VPN on the Internet edge router outside the firewall would usually deal with public IP space, so to continue using private addressing between sites, is it recommended to just to do no-NAT or identity-NAT at the firewall.