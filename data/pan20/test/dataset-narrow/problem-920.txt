Using a 2-nodes cluster 2008R2 Failover Cluster. A new clustered instance was created (I double checked it's clustered). Instance was installed on node1. When we try to move it to node2, it failed. SQL Server service won't start saying : 

I'm wondering if this if possible: I have 1 AD Domain: InternalDomain. I want to create a secondary domain: CustomersDomain. I would like my SharePoint to be able to authenticate users from both InternalDomain and CustomersDomain. 

I created a dynamic distribution group in O365 using PowerShell and PSSession. I can see my group, and see users that are member of this group. but when I email my group, I received an error. If I look at the flow, the mail address is something very long, starting with : IMCEAEX-_o= [etc.] Is that normal ? I shouldn't have group_adress@domain.onmiscrosoft.com ? I don't know how to troubleshoot this at all ... TIA. 

Ok, I have to admit that I was a really nervous for this. But it works well ! In fact, It was the time that O365 and the ActiveDirectory (in the cloud) talk with each other. Everything's fine now. So please, if you create group, grab a coffee, and wait for 1hour before testing anything out. 

According to technet this is how to solve : "The domain controller declined the Kerberos ticket created by Web Application Proxy. Verify that the configuration of the Web Application Proxy and the backend application server are configured correctly, especially the SPN configuration. Make sure the Web Application Proxy is domain joined to the same domain as the domain controller to ensure that the domain controller establishes trust with Web Application Proxy.Make sure that the time and date configuration on the Web Application Proxy and the domain controller are synchronized." But I don't really know why they told me to join the WAP server in the domain, as this server should be in D.M.Z and in WORKGROUP. Date and time on the WAP server were not good, so I modified it, now its ok. I didn't join the server to the domain, and SPN is set with the domain account that is running AppPool of my SP Site. I double check DNS, HOSTS files, certificates, accounts ... I can't find any error. I'm wondering : should I need to add any account the right to read private key on my wildcard certificate on the WAP Server ? On ADFS Server, only adfs service account has read right on the certificate (pv key), on SP only domain account that is used to run app pool has right to read on the certificate's pv key. Ask for more details if needed. 

As you all probably know, ipv4 route cache has been removed in 3.6 Linux kernel series, which had serious impact on multipath routing. IPv4 routing code (unlike IPv6 one) selects next hop in a round-robin fashion, so packets from given source IP to given destination IP don't always go via the same next hop. Before 3.6 the routing cache was correcting that situation, as next hop, once selected, was staying in the cache, and all further packets from the same source to the same destination were going through that next hop. Now next hop is re-selected for each packet, which leads to strange things: with 2 equal cost default routes in the routing table, each pointing to one internet provider, I can't even establish TCP connection, because initial SYN and final ACK go via different routes, and because of NAT on each path they arrive to destination as packets from different sources. Is there any relatively easy way to restore normal behaviour of multipath routing, so that next hop is selected per-flow rather than per-packet? Are there patches around to make IPv4 next hop selection hash-based, like it is for IPv6? Or how do you all deal with it? 

Well, things are a bit more complex. Modern hard drives don't just detect errors, they have some spare sectors and smart controllers that try to relocate bad sectors. That is, when you try to read some logical sector and it doesn't read at first time, the controller tries to read it several times, and sometimes it can read it after some retries; then it writes the data back to the spare sector, remaps logical sector to the new one and marks old sector as bad, and finally gives you your data. All those processes are completely transparent to the reader, you wouldn't notice any error. However this will normally be reflected in S.M.A.R.T statistics, and if this happens more and more often, you can see that the drive is going to fail before it actually fails. That's why it's really important to use SMART monitoring tools on your system. When a sector doesn't read at all, or the controler runs out of spare sectors, read error will be returned by the drive. Error detection is now pretty bulletproof, it uses some kind of CRC for sector data. When read error is returned, mdadm will see it, mark the drive as unusable and switch an array into degraded mode. 

I'm running a WSUS within 2012 R2. I have two server, let's say Server1 and Server2. Both GPO are configured to use my WSUS server. When I connect to WSUS server and launch the Update Services MMC, in the category "All Computers" I can see Server1, but not Server2. When I run on Server2, the Update Services MMC shows up Server2, but no more Server1 ... I don't understand. Those two servers are VMware VM deployed from a template, they are both in the same domain as WSUS server. All VMs ping each other, no network related problem. Any ideas ? 

I'm trying to install RDVH service from my broker to my hyper-v server. But it fails and returns: "Cannot get integrity informations", and in the Events Viewer, I can see a DCOM error that tells me it could not connect to the server with a pid and wmsprovhost.exe ... I can manage this server (RDVH, lets say server B) from my broker (server A). So I'm not sure DCOM is not working, else I would get a ServerManager.exe error, no ? I enabled DCOM rule in FW but still the same. Before modifying the registry as mentionned here ($URL$ do u guys, have any ideas ? 

Is there a way (PowerShell would be nice) to copy a user (I need sAMAccountName) and his password, from one domainA (forestA) to domainB (forestB). All Active Directory servers are on LAN and this is a test environment, but if this works, gonna put script on the production. I already know how to get a user and attributes from powershell, but I can't find anything on password. EDIT : I must avoid trust relationship between domains 

Where /I:T is here to apply rights to objects and sub-objects. And /G is for GRANT rights. GW is Generic Write permissions. But I'm still not able to modify user1's password while connected to the instance with an AD users that is member of AdminGroupCustomer1. I tried : WP = Write Property and WD = Write Security Change with no success, so I don't really understand. Permissions informations can be found in the following technet article. Did I miss something ? Should I need to set Write permission on specifics properties I need to modify ? for example, set WP on password property to be able to reset/change user's password ? Edit : Should I move this question to SuperUser ? 

If you create backup using tar, it will be enough to copy all your files, however the problem will arise when you try to extract that archive into a live system. Some binaries or libraries may not update because they will be in use by the system, and you will end up in a mess. You should get some support from your hosting provider (for the new VPS). Usually they have some features for that case, for instance my hosting provider allows me to switch my VPS to "repair mode", in that mode new VPS is created with basic Linux software, and my VPS's disk is mounted there, allowing me to change it however I want and then leave repair mode. Or maybe you can just send your tar archive to the support team, asking them to extract it to your VPS when it's offline. 

I've found the answer and it was quite funny - ARP table overflow. The traffic in the test environment was gerenated from many IPs that resided in directly-connected networks, so the system had to use ARP first to figure out MACs, and the default hard limit of ARP table in Linux is just 1024 entries, which gives number of connections between networks connected to 2 different interfaces close to 512. When I increased net.ipv4.neigh.gc_thresh1 and also .gc_thresh2 and .gc_thresh3, the problem was solved. 

I can't think of any tool that would do that out of the box. This is quite rare scenario, as you can't create correct two-way NAT mapping if you only change port. Do you really need just one-way traffic ? However you can always write your own netfilter module (it's not that difficult) and alter packet headers in any way you want. 

You need 32-bit version of libraries to run 32-bit applications on 64-bit system. Unfortunately Redhat doesn't have package like ia32-libs which would install most of them, it is supposed that you should install all 32-bit applications with yum and it will install the appropriate libraries for you. If your application is third-party, try installing 32-bit version of each library it needs, they usually have .i586 suffix, so you execute something like "yum install libusb.i586". 

Ok, I troubleshoot networks related problems, and port 135 was blocked between servers. Now everything's OK ! 

Thanks to @TomTom with his above comment. This is the explanation and how to solve (link) : I deployed VM with template, and then join WSUS almost at the same time. So both Server (1 & 2) got the same WSUS ID. So we need to reset this ID and renew the request to the WSUS Server. 

So my Customer AD will only store credentials to log in SharePoint for customers, no more rights. And my Internal AD Users (or some of them) will be able to create new Customer Account. But also, some customers will be able to create new account or at least ask for. Ask if I'm not understandable enough. The idea is simple: best way to handle employee AD account (no changes on the AD server), handle customer accounts, handle authentication all with SharePoint. 

When I first try to debug it, it appears that in , there were no MyInstance folder one the second node... First question: is that normal ? So I decided to copy/paste this folder from node1 -> node2. Service started good after a reboot of node2. The day after, I decided to move my Instance back to node1 -> OK. I now move it to node2, error. And I got the error mentionned above.. I can't start this service one node2, but everything is OK on node1. I've compare regedit from both, and there are exactly the same. No luck with EventViewer, so I really don't know how to troubleshoot this problem. EDIT: With SQL Server Configuration manager, Node1 I can see MyInstance but not on Node2 ... if it can help. 

After checking that local interface is up (ifup lo0 or similar). Check for routes, firewall or iptables problem. Here it was a problem from the file located here When set to 1 : There is no response to ICMP Requests, so ping will not work. When set to 0 : Replies to ICMP Requests are enable. Check if sets to 1. If so, set it to 0 by using this command : Now, your machine replies to ping.