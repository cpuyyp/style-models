I'm trying to connect Courier to MySQL on a RHEL6. I've installed the Courier using RPMs and not the repositories (which I think is the root of my problems). Anyway, here are the packages I've installed: 

I'm working in a small company. We send our emails through company's mail server which is located (along with company's website) on a shared web host. Once in a while our Internet connection is down or the personnel have to wait a long time to upload their emails (with considerable size of attachments) to the mail server. I would like to setup a local mail server and ask everyone to use this one instead. Then acting as a relay, this local mail server should relay emails to the one on the Internet (emails are always relayed to the same remote mail server). This way if our Internet connection is down, users can still send their emails to local mail server regardless and it's local mail server's responsibility to relay them once the connection is back up. And since it's a local mail server, it will take much less time for users to upload their attachments to it. Here are my preferences / concerns (if possible): 

I'm using and to compose a service which is a combination of several others. As the inner services are serving each other, there's a predefined priority by which they must be started. The easiest way I found to do this, is to use a startup script to run each service (in their designated container) to check for the prerequisites before actually running the container's service. Here's what I'm using right now: 

As Nick told me, it is a bad practice to store passwords in clear form in database. I managed to find a way around it so I'll be storing passwords encrypted after all. But if there's any scenario that can not escape this bad practice, I must say that my tests showed me that even though I configured Postfix to use PAM for encryption but when I stored passwords in clear form, they would still be matched! 

As you can see I used Zend Framework (v1) and my code is rather simple. The variables are simple arrays holding the email addresses. In my test scenario there are only two email addresses, one for and one for . 

But my problem was not solved just by this change! It turned out that due to some bug in the script, even though the configuration file mentioned above is loaded, but it is not applied! The was never used!!! Here's the original start section of script: 

I'm facing a really strange and annoying problem with my network configuration. In my network we have a diverse list of OSs and servers. We are using Microsoft DNS server 6.1 on a Windows Server 2008 R2 and Apache 2.2 on a CentOS 6.4. I've setup a local virtual host on the Apache to be used by the company's personnel and in order the virtual host to be resolved on everyone's computer, I've asked our network admin to add an entry to the DNS server like . Having said that, when I open the web application on my own Ubuntu machine's browser, from time to time I have the problem of not getting responses from Apache. Once this problem starts, there will be no responses coming. Meanwhile if I run it is resolved to the correct IP address. Yet since I suspected that it is a DNS problem, I added to my file, once I did that responses started coming. I experienced the same behavior on two other PCs with Windows XP on them. Just to make you sure, there's no proxy set, what so ever, not on our browsers nor on our systems. Right now I'm waiting for the problem to happen again so I can do more tests. Meanwhile if anyone has any suggestions I'll be really grateful. 

So are my expectations reasonable? Can I do this? If yes I'll be really grateful if someone could direct me to the right path, what to read and how to do it. ps. If it matters, I'm planning to use . 

is my load balancer and other two are the back-ends. Having a file created on each of the back-ends, I can load them entering and . But when I type , a error returns. The Apache on loads normally as if there's no is set. It can even serve its own local files without a problem. What's the problem? Am I missing something? [UPDATE] Here's the contents of my log file: error_log: 

I've setup a mail server on an Ubuntu 14.04 server. I've installed Courier as the IMAP server and I've configured it so it can connect to MySQL and use its data as the user list and stuff. I've already managed to configure Courier once to connect to MySQL on another machine. But right now I'm having problem doing it again on another machine. Tailing the file I can see that Courier can not connect to MySQL: 

I've been struggling with Postfix for past few days. Finally I managed to set it up with virtual mailboxes listed in MySQL and passwords encrypted with PAM. It was just then that I realized I need the passwords to be stored not-encrypted! I can't seem to find whether it's possible or not. Can someone please guide me to the right direction? [UPDATE] To explain myself, I'm making a web application and I want the same username and password of a user to be his email's too. So I configured Postfix and Courier to use my webapp's database so users come with an email address once they have an account in the webapp. The thing is, I need to access users' inboxes in the webapp so I have to be able to pass the clear form of users' password through IMAP protocol to Courier in my code. That's why I need all of the parties to use a clear form of password. 

This error is generated while I tried to send an email with as the main recipient and as the . [UPDATE] Here's the complete log associated with the request: 

I've managed to configure Postfix to read virtual mailboxes list out of a database. But what if my list is distributed among multi databases? Is there any way to set Postfix's database access credentials based on the incoming email's destination domain? I've got multiple customers sharing a web server and each one has his own database through sharing. And I was wondering if I can also share a Postfix among them!? The problem is that their list of users resides within their individual databases and the number of shards can grow over the time. And I don't want to reconfigure the system by each new customer. 

I found another way to solve my problem, it's called mod_proxy_express and it's available in Apache 2.4. It's capable of mapping a mass number of domains to their IPs using a database. 

Shutting down Apache to make sure that 403 is produced by right Apache. The results were positive, once shut down no response would be generated at all. As said before, loading the page using the local network IP (192.168.0.81) to make sure the Apache is listening to it and not just 127.0.0.1. Results were positive, the page could be loaded on the same machine as Apache resides (but not other machines). Testing Apache's logs: negative. No entry was made in access_log nor error_log, what so ever. Or at least I couldn't find it! Personally I believe when Apache's serving a file for a local request it is doing it on behalf of some user but when the request comes from some other machine, the user is changed and he (whoever he is) does not have sufficient access which results in "Forbidden 403" error. So to test this I changed all files' modes to 777 and yet no luck. 

Showing that it's Postfix who's omitting the @domain off the username before handing it to (or at least I believe so). I've searched up and down Postfix's configuration but I don't see what affects this!? 

This is a new scenario (leading to the same problem) in which I used a correct email address (both and hold correct email addresses but not the same address) but this time the email address is rejected because Postfix does not recognize it. I used non-ASCII characters as for the domain name (mehran@مهران.com). I don't care whether Postfix supports non-ASCII addresses or not, it's just that when it rejects one address, the whole request is rejected!! And no email is sent to mehran@hotmail.com (which is named in )! Now the returned error message to my code (PHP made MUA) is: 

I'm sending my emails using Postfix, and I've got a considerable list of emails to send newsletters to. So I prefer to pack my SMTP requests into one by setting one of emails as and a bunch more as (in PHP). My problem is that if one of the emails is invalid, Postfix rejects the whole request prompting the following error: 

I've trying to configure Postfix so users can send email through SMTP having a username and password. And I'm trying to store credential within a MySQL database. I've taken the path of and and I'm stuck in the midway. Enabling the pam debug feature I can see that when I try to send an email using Thunderbird the query executed to retrieve the password is: 

What I need is to forward emails using file and it is possible only for shell accounts and not virtual mailboxes. So I need to have both types of mailboxes, one to store and one to forward. The problem I have is that when I add mydomain.com to list, no email is saved within virtual mailboxes. And ThunderBird prompts: 

I found the problem, so here it is in case it would help anyone: There's a configuration file for , mine is located in : 

It would be great if I could configure Postfix in a way so it dumps the invalid one but sends the rest. I know I can validate the addresses myself before using them in an email but I prefer it if it is done by Postfix. [UPDATE] Here's the maillog's content: 

I've recently updated my 's to by compiling it from source and as a side effect I'm facing a strange behavior. The is able to serve the files locally but not on other machines. For instance when I type my machine's local IP 192.168.0.81 within the same machine it opens up the page. But when I type it on some other machine (on the same network) it gives out "Forbidden 403" error response. Here are the scenarios I've already tested: 

I'm trying to setup a load balancer with Apache 2.4 but I can't make it work. Here's what I wrote in my http.conf file: 

As you can see MySQL's InnoDb buffer is set to almost 1.5GB of RAM (which more or less 37% of my server's total RAM). The problem is that when I run some specific query on this server it takes 70 seconds to run but the same query takes only 0.02 seconds on my development machine (with the exact same data). It's in the case that my development machine has only 130mB of . The problem gets complicated when I use to see how much memory is used by MySQL, which is only 7.6% (out of 37% given to it). One more clue is that when I run the same query twice sequentially, the second time takes as much as the first time as if there's no cache available. Does anyone have any suggestion where to look? [UPDATE] I apologize for the misleading information I gave, but the query takes 1.23 second on my dev machine. 

It's in the case that I've set MySQL address to ! Does anyone know how can I set / find configuration files for this daemon? 

But it seems to me that the script is not using these configurations. The evidence to proof my claim is the entries in : 

I'm trying to configure a MySQL production server using InnoDb and I can not get the performance I want out of it. I've used Percona tools to give me the following configurations: 

As @NickW guessed it was a typo in database name but I still think that the error message should have been more informative. It was telling me that the username and password were incorrect in the case that they were correct but no database with the specified name was available. Once I cleared the password on server, the error changed to: