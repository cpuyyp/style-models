Summary My ultimate goal is to run a VPN through my Cisco Router, which to me means getting the Comcast Gateway out of the way. To this end, I would like to place my Cisco Router (and/or Switch) logically closer to the WAN and remove my Comcast Modem as a logical device. I cannot really remove the modem (it provides the WAN access, after all), however, I do not need its DHCP, NAT or firewall services. I'd like configuration advice. Details Here's my current network setup: Comcast Gateway - Cisco Router - Cisco Switch < LAN & Wifi (Ruckus) 

What should my Router's WAN Port configuration look like to ensure it works with a Comcast Modem in Bridge mode? Are there any other config options I should look out for (like DNS servers)? Alternatively, should I settle for placing the Router in the DMZ? Is it worth reconfiguring and moving the Modem to a Switch Port for either #1 or #2? 

Modem runs as DHCP Server, NAT and firewall with inside address 10.0.0.1/24. The Router's WAN port is connect to it with a dynamic address (DHCP client). On the Router's LAN side, it is also running NAT (yes, double NAT'ed, for now), DHCP Server, DNS, NTP. My thoughts on options are: 

This is a case of port forwarding to the same network. For such DMZ's setups, hairpinning is preferred or having local DNS to resolve for such internal servers. Apart from them there is an equivalent solution for it. The solution is to have DNAT rule for your LAN zone also so that the packet with destination ip 202.192.68.235 from local client can be translated to 10.0.6.35 and routed back to the same network by the router. But again the problem is that the server will try to reply directly to the client since it belongs to the same network. Now to make the server reply the client via router we need to add an SNAT rule that would make the source as router. Your SNAT rule should be very specific such that it applies only for traffic coming from local subnet and destined for 10.0.6.35. This will solve your problem for sure. To summarize you have to add a DNAT and an SNAT rule for LAN interface. 

ARP is used to retrieve the MAC address of the destination host. At layer 3 it knows the destination IP but when it has to add the L2 header it does not know the mac address of the destination host. So to get the mac address it sends an ARP packet. After getting the response it will update its ARP tables for future lookups. It does not really matter whether it is a end host or router or a gateway. This is how a network stack is implemented and works. Moreover the L2 header is replaced at every hop by adding a new one containing the next hop MAC address 

While there is no actual map for viewing this information you can find it in the following area of the Defense Center web interface. The below pages will allow you to see attacks by continent and or country, as well as the ability to see more information on the types of attacks. 

If you need to make changes down the line, you can see your NAT policy under Network > NAT Policies This should have no operational impact, however with any change you should exercise discretion and play it safe by making the change within a downtime window to minimize any potential user impact. $URL$ 

Eduroam defines a minimum number of services that participating universities must allow as part of the eduroam partnership. Beyond those minimum requirements though universities may not allow anything additional. The eduroam are often considered "guest networks" and likely will not have access to other wireless networks in a given university. You did not state what port/protocol you were sending on, but if it is listed outside of those minimums you will likely need to use a VPN connection to form a connection. If you have further questions I would advise contacting the helpdesk of said participating university. HTTP/HTTPS [tcp/80, tcp/443] SSH [tcp/22] Email: IMAP(2+4,3,S) [tcp/143, tcp/220, tcp/993] POP(3S) [tcp/110, tcp/995] SMTP(S/STARTTLS) [tcp/465, tcp/587] VPN Standard IPSec VPN [IP proto 50 (ESP), IP proto 51 (AH), udp/500 (IKE)] OpenVPN 2.0 [udp/1194] Cisco IPSec VPN over TCP [tcp/10000] PPTP VPN [IP proto 47 (GRE) and tcp/1723] Miscellaneous IPv6 Tunnel Broker Service [IP proto 41] IPSec NAT-Traversal [udp/4500] Passive (S)FTP [tcp/21] RDP [tcp/3389] For more information on the minimum requirements for traffic on eduroam networks please see: $URL$ Additional comment: When connecting to public networks such as eduroam, you should ensure that your network connection is set to "public" which should block all external requests unless you added an exception. Do not assume you are safe on any network. 

@JFL is right. There is no generic solution for gateways as they are just forwarding the connections. But the manufacturer do provide solutions for such configurations on top of a basic router/gateway/switch. Hence different products provide different settings to achieve this and some don't even provide anything like this. Like Cisco has something @Hung Tran mentioned. Brocade provides something like this :: 

The Virtual Circuit Identifier (VCI) is used for reliably transferring packets by L2/L3 virtual circuits and allows higher level protocols to avoid dealing with the division of data into segments, packets, or frames. The VCI is added by the intermediate routers/switches running protocols such as X.25, Frame Relay, Asynchronous Transfer Mode (ATM), GPRS, Multiprotocol Label Switching etc. Less overhead is required, since the packets are not routed individually and complete addressing information is not provided in the header of each data packet. Only a small virtual channel identifier (VCI) is required in each packet. Routing information is only transferred to the network nodes during the connection establishment phase. How it works differs protocol to protocol. Read this link to better understand how VCI changes at every hop and what if the network routers doesn't support any such protocol. At transport layer TCP and SCTP are responsible for providing virtual Circuits. 

I'm happy to provide more details (configuration files, etc.) if this would help. Also, I'm definitely new to all of this. I've got a reasonable understanding of how all of this stuff works, but I'm really just crawling along. I'm aware that Bonjour has problems across networks and there are bridges available, etc., that solve those problems. Please note, we are not in that situation as there is only one Class C network that everything sits on. 

Run Modem in Bridge Mode. Place Router in Modem's DMZ. One variation on 1&2 is to connect Modem to switch. 

Summary On a network (Cisco 2960E) with many Apple products, when I connect a computer via hard ethernet it cannot see Airplay devices (Airport Express) that it can see when connected via WiFi (WiFi devices are RUCKUS not Airport). In the hard line state, Bonjour Browser shows Apple and non-Apple services, but not the Airport Expresses. Details I have a Cisco Router (1941-sec) and Switch and Ruckus WiFi APs (7372) and Controller. The Switch has PoE for the APs and a handful of security cameras. These devices provide the backbone for my LAN. I'm not running VLAN, yet; every device is currently on the same subnet (10.10.10.XXX). The AirPort Express devices (4) are present solely as Airplay points for music. Their phone jacks are piped into a multizone amplifier and to be used to send music from various Airplay music sources. Importantly, their WiFi is off and they are hardwired into the switch, picking up their IP addresses via DHCP (server runs on the Router). When my computer is on WiFi and attached to the Ruckus APs, it can see the Airport Expresses. However, when my computer starts out hardwired (to the switch) only, it cannot see the AEs. If I temporarily turn on the WiFi and then turn it off, the computer sees the AEs and remembers them until sleep or reboot. My assumption is that the Bonjour requests aren't making it from the computer to the AEs through the Switch, although I don't know why. Presumably, there's something the Ruckus APs are doing which puts their ports in a different state and encourages the packets to flow between the AEs and the APs. Something that my computer is not doing. 

In CSMA/CD once a collision is detected, the colliding devices send a jam signal. Assuming you know the collision detection method used by CSMA/CD, the jam signals generated after collision informs the devices that a collision has occurred and invokes a random backoff algorithm which forces the devices on the Ethernet not to send any data until their timer expires. (everyone has a random timer value) 

When a host receives a frame, the NIC generates an interrupt for device driver and also does some filtering such as destination MAC address matches one of the interfaces or not, multicast address match etc.. The device driver handles the interrupt and allocates memory for the frame and sets the protocol for layer 2 and forwards it to the respective protocol handler. So, the NIC does some level of packet filtering to reduce the overhead of CPU but the software also do such filtering as it does not depend solely on hardware for packet filtering. In case promiscuous mode is ON for that interface, the check is ignored and all packets are accepted and traverse the network stack. 

The bandwidth test will not help you properly determine your firewall needs, as it is only testing how much available bandwidth you have. Graphing either through RouterOS or through a third party system should be used to measure the actual amount of traffic being used over time. When purchasing a firewall you will want to determine all the metrics in making your decision, and how your use of features will change your baseline. Graphing can be setup by navigating to your device in your web browser /graphs Packets per seconds is displayed in RouterOS as (P/s). This can also be viewed on a live basis under "interfaces". $URL$ 

If there is not information available on those pages it is because you have not configured any widgets, which can be done via the toolbar midpage by clicking, "add widget." Cisco Resource for Using Dashboards: $URL$ General Firesight Documents Index Page: $URL$ 

As others have stated there is not a need to configure any sub-interfaces on the SonicWALL. I am assuming your modem is already in bridge mode since you have a public IP address configured on the SonicWALL Internet facing interface, if this is not so this needs to be done. There is nothing you need to do to announce those IPs from the SonicWALL because in bridge mode the SonicWALL is acting as an authoritative device of sort for them with your modem acting as the gateway. The only thing that needs configured is a NAT policy mapping the desired public IP address to desired private IP address. The easiest way to do this is via the public server wizard which can be located on the top right corner of the web interface. 

The clock in NIC is used for time stamping packets. Generally there is either a register in NIC to which time is written and fed to kernel timestamp structures or a dedicated card. Refer to this doc for better understanding of how kernel manages timestamp. 

Since the problem is you can't configure gateway on one of your devices, you will have to use NATing as well as port forwarding rules in your router. Configure it like this. Router:: Interface 1 : IP :: 192.168.120.x Interface 2 : IP :: 192.168 1.x Laptop:: IP :: 192.168.1.100 ; gateway :: 192.168.1.x Add a NAT rule at interface 1. Now if the connection is generated from laptop then NATing will translate the traffic for 192.168.120.1 with 192.168.120.x , i.e., the IP of the router. This will work for traffic initiated from your laptop. But when initiated from other device, it will have to send traffic explicitly to 192.168.120.x to be able to communicate with laptop since no default gateway is configured on this device. To make it work you will have to add port forwarding rules on your router so as to forward all traffic coming to interface 1 from 192.168.120.1 to 192.168.1.100.