Where $mailhost is my actual mail host used to send out emails, in my case it's a google server. After the modification sendmail has to be restarted for the change to take effect. NOTE: running sendmailconfig or update_conf or any other means that updates the conf files for sendmail will discard the change, as it is not written into any .mc file, but a direct modification on the cf file! I hope my experience will be helpful for someone else :) 

OS: Ubuntu 10.04 Program: Sendmail I disabled daemon by setting daemon_mode = "None", queue_mode = "Daemon" in the sendmail.conf, updated the conf and restarted sendmail. However, after that whenever I tried to send emails, I got a stat=Deferred: Connection refused by [127.0.0.1] from the mail.log. If I turn on the daemon again by setting it daemon_mode = "Daemon" then everything works fine. Plus, if I turn back on the daemon and try to send an email, all the previously deferred emails that's refused for the above reason are all sent successfully along the new email. Does anyone know what is going wrong here? What I want is I want the daemon to stop listening for incoming email but leave the queue to clean up unsent messages. 

Below are my server.conf and client.conf files. I am using tun rather than tap, from what I've read, I think that's the best choice. I currently have compression turned off, just to eliminate that as the problem. server.conf 

Does anyone see a problem with this script? If its not the script, what else could be preventing my Route53 domain from being updated? I am using the Security Groups to IP-restrict the instances. I've tried opening port 53, but that didn't seem to have an effect. Is there another port that Route53 uses? I'd appreciate any help or guidance the ServerFault community can offer. Let me know if you need any further info. 

I have several Amazon EC2 instances running Ubuntu 10.04 and I've recently started using Amazon's Route 53 as my DNS. The purpose of doing that was to allow the instances to refer to each other by name rather than private IP (which can change). I've pointed my domain name (via GoDaddy) to Amazon's name servers, allowing me to access my EC2 webservers. However, I noticed I can now access the EC2 instances which I don't want to be public, such as the dedicated MySQL Server. I was thinking Amazon's Security Groups would still be in effect when using Route 53, but that doesn't seem to be the case. Before I started using Route 53, I was thinking of having one instance run a reverse proxy, which would help protect the web servers behind it. Then IP-restrict all the other instances. I know IP restricting can be done using the firewall within each instance, but should I ever need to access them from another IP address, I'd need a way in. Amazon's control panel made it a breeze to open a port when necessary. Does anyone have any suggestions for keeping EC2 instances secure, but also accessible to their administrator? Also, what's the best topology for a group of EC2 instances, consisting of web servers and a dedicated database server, from a security perspective? Does having a reverse proxy server even make sense? 

I have a four node cluster setup which I need to migrate from subnet A to subnet B. The cluster has roughly 12 instances running on it. I've found articles to update the SQL Cluster IP, but I've got more problems or need more information regarding the logistics of the migration. My initial plan was to do this: 

I've not been able to find anyway to do this via registry or GPO. I want to remove standard users ability to right-click computer and open the "Add a Network Location" button, or just disable the wizard from coming up. Is there any possible way to do this? I can't seem to find anyone successful with this. 

Want to publish Firefox or Chrome in a XenApp/RDS environment. However, I can't find any central way to disable file browsing (ie. type c:\ in address bar). In fact, I can't find any great way in general to do this at all with these browsers. This leaves me with having to use IE, which I'd really rather not do as the apps they're accessing really recommend using Firefox or Chrome. Does anyone know how this is possible? 

This time I am trying to simulate a spoofing attack where I used my mail server to send email to someone faking someone else. This time I got the email in my junk folder, with the FROM: header being the faked user. So the above is what I have found after my experiments. I cannot seem to reproduce the bounced email problem, but I can send email with faked origin. So how can I prevent my mail server being used as spoofing tool?? 

The above email got delivered to my mail box, with the FROM: header being bogus@notmydomain.com. This case people aren't getting spammed since the email is delivered to me. 2. 

I believe I have solved the issue. I think the problem might be that if the daemon is turned on, then sendmail will rely on the daemon to send out emails. If the daemon is turned off then sendmail is sending the emails by another mean, which I don't exactly know (please share your knowledge if you know of the mechanism :P). Anyway, the trick is that I had the mail host of the daemon set up fine, but not for that "another mean". I found this article which was really helpful. If anyone is having the same issue, one can look at the section "Dealing with Sendmail v8.12". Apparently I should generate a submit.cf with some specific settings, but I didn't want to mess up my other settings in my existing submit.cf so I just hacked it and directly modified the cf file. I found the line: 

It turns out the problem was the Security Group settings after all. I had been IP-restricting traffic, so only my external IP could communicate with the instances. I assumed the Security Groups didn't apply to communication between instances, but they do. The solution was to also allow traffic from 10.0.0.0/8, which covers all possible EC2 private IPs. It would be more secure, to only allow traffic from specific private IPs, but that's a hassle since they can change. This solves my problem for now. Probably the best solution would be to utilize Amazon's API to automatically tweak the Security Group IP-restrictions when instances are stopped and started. 

I have multiple Amazon EC2 instances which need to communicate using private IPs. However, so far I've been unable to ping one instance's private IP from another instance. I can ping external addresses, such as their Elastic IPs and other sites (yahoo, google, etc), so it seems there's nothing wrong with the instances' network configuration. Also, they are all in the same zone, so that shouldn't be an issue. Does anyone have any idea what I could be doing wrong? Could this related to the Security Group settings? 

Hi I recently got an email from Amazon, saying that my EC2 instance is sending spam. So what they say is my mail server is receiving email for a non-existing user and therefore bounces the email back without validating the source netrange. So to my understanding, some jerks are sending bogus emails to my mail server claiming to be someone else, and since the email delivery failed my mail server bounces the email back to that "someone else" that the jerk claimed to be. I just want to know how I can reproduce this and how I can fix my mail server to not do it. My system spec: 

So I'm trying to reproduce the spamming attack here, I send an email to a non existing user in my domain, claiming to be someone else. However, I did not get any bounced email in my personal email box, not even in the junk folder. 3.