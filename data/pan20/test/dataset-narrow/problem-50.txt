A switch running HSRPv1 cannot identify the physical router that sent a hello packet because the source MAC address of the router is the virtual MAC address. HSRPv2 has a different packet format than HSRPv1. A HSRPv2 packet uses the type-length-value (TLV) format and has a 6-byte identifier field with the MAC address of the physical router that sent the packet. If an interface running HSRPv1 gets an HSRPv2 packet, the type field is ignored. 

ArubaOS version 7.4 When working with Aruba Mobility Switches, there would be few instances where a port has to be bought to its default config state, so the new profiles can be applied again. Removing each associated profile would take time and gives a chance of configuration error. This one command suggested below would help us greatly: Reset to default config with a single command: 

I have implemented the 4-Class QoS Model as described in this earlier post from 2013. This Core configuration is implemented on a Cisco VSS 6509-E setup running software version: Cisco IOS Software, s2t54 Software (s2t54-ADVENTERPRISEK9-M), Version 15.2(1)SY3, RELEASE SOFTWARE (fc3) Copyright (c) 1986-2016 by Cisco Systems, Inc. On my uplinks to the access layer, the service policy has been configured, example: 

Found a rather different solution for this, you need to have pcregrep installed on linux server from where you are doing ssh to the router, Run the following command: 

Is this something you think, or something you want. Because this won't happen by default. Its rather reverse of what you think(presuming) The local VLANs will be able to talk via inter-vlan(via L3) routing(since you have configured GWs of each VLAN on L3 itself). Also for different offices(HQ/branch) departments to talk you will need L3VPN routes transported(as explained above, job of ISP), though you can also achieve this with NAT(config overhead). Hope this helps! 

Do not use the same network, its of no use. Use a point to point network(a /30) between L3 and firewall, Since in any case gateway of your VLANs will be the L3 so why complicate things(if you are going to use this topology i.e.) 

No, routers only learn routes when they are advertised to them by other routers, by different routing protocols. 

VLAN Trunk Protocol (VTP) reduces administration in a switched network. When you configure a new VLAN on one VTP server, the VLAN is distributed through all switches in the domain. This reduces the need to configure the same VLAN everywhere. VTP is a Cisco-proprietary protocol that is available on most of the Cisco Catalyst series products. VTP modes: Server In VTP server mode, you can create, modify, and delete VLANs and specify other configuration parameters, such as VTP version and VTP pruning, for the entire VTP domain. VTP servers advertise their VLAN configuration to other switches in the same VTP domain and synchronize their VLAN configuration with other switches based on advertisements received over trunk links. VTP server is the default mode. Client VTP clients behave the same way as VTP servers, but you cannot create, change, or delete VLANs on a VTP client. Transparent VTP transparent switches do not participate in VTP. A VTP transparent switch does not advertise its VLAN configuration and does not synchronize its VLAN configuration based on received advertisements, but transparent switches do forward VTP advertisements that they receive out their trunk ports in VTP Version 2. VTP can be turned off on the older CatOS firmware. By default, all switches are configured to be VTP servers. This configuration is suitable for small-scale networks in which the size of the VLAN information is small and the information is easily stored in all switches (in NVRAM). In a large network, the network administrator must make a judgment call at some point, when the NVRAM storage that is necessary is wasteful because it is duplicated on every switch. At this point, the network administrator must choose a few well-equipped switches and keep them as VTP servers. Everything else that participates in VTP can be turned into a client. The number of VTP servers should be chosen in order to provide the degree of redundancy that is desired in the network. There are some disadvantages to the use of VTP. You must balance the ease of VTP administration against the inherent risk of a large STP domain and the potential instability and risks of STP. The greatest risk is an STP loop through the entire campus. When you use VTP, there are two things to which you must pay close attention: 

Yes it will be bottle necked at 100mbps. So bottleneck throughput speed would be of the lowest throughput link between h and c. So this bottleneck throughput will be applicable when the packet is sent from h to c also. Hope this helps! 

UPDATE You can also have L3 as the gateway of each VLAN rather than firewall, I am writing some cons and pros of having firewall as gateway(and vice versa): Cons 

You interface is looped and hence when you ping the IP 210.220.61.1 on the other end you are stuck in the loop and hence TTL(hop count) gets expired, therefore the messge 

As you said you are using L3VPN(routes are advertised via bgp mostly from one end router to another), So for example 10.1.0.0/8 from HQ is advertised to all the other branches via L3VPN and 10.2.0.0/8 from a branch to HQ, they will be able to communicate. So in essence, depending on how much routes your ISP lets you advertise. You can achieve this easily if the HQ office has routes of branch office and vice versa. 

Introduction First off, let me write that i spend most of the summer trying to figure out a correct way to get this done. More so i had to hire a CCIE full time for a week or so to help out and in the process we had Cisco TAC trying to figure out an error on our 6500 series switches. Why would you do this? Today there's a virtual explosion of rich media applications on the IP network. This explosion of content and media types, both managed and un-managed, requires network architects to take a new look at their Quality of Service (QoS) designs. The first step may seem obvious and superfluous, but in actuality it is crucial: clearly define the business objectives that your QoS policies are to enable. These may include any/all of the following: 

Note that once you log into your switch module (the command has been changed to '') don't try to restrict the VLANs on the uplink port. Just allow them all else you get more stupid errors. 

Now as Ron said if you are planning to get internet routing table you need good CPU and RAM(greater than 4GB) because the routes are ever increasing on the internet and no you cannot apply caching mechanism because you are not asking for routes or routes are not constantly getting advertised by your peers( that you can monitor them and cache them) they are sent in updates(which maybe far and few and in large time intervals) by peers. Hope this helps! 

Now though this is a semi-automatic process i.e. Once you have started running a protocol you are accepting all the routes being advertised by the peer router. So you can have certain methods by which you can limit number of routes and they mostly rotate around route-map: 

L2 switches at both ends have same management IP, don't do that. Assign different management IP range(I take this is a typo). 

Any other configuration(if different from this) of default configuration like variations in IOS-XR, IOS-XE or a Switch can be put in instead of the current lines. Hope this helps!