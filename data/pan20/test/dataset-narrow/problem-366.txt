DataGrip editor has command ⌘-/ to "Comment with line comment", in SQL that means adding -- to beginning of line. On my MacBook Pro with Finnish keyboard, / is located in shift-7. When I press ⌘-shift-7, DataGrip opens search box in Help menu or flashes Code menu title, instead of commenting current line. Selecting "Comment with line comment" from Code menu works as expected. Is there a keyboard shortcut that works on my keyboard? 

It can be installed to a server or you can buy it as a cloud service. As your organization has an IT department, you should ask their opinion first. 

(As non-native English speaker, "expanse" is not immediately clear to me) I'd join the four tables (customer, supplier, employee, expanse) to a single table 

SQL standard does not specify in which order the rows are returned, if the query has no ORDER BY. Some implementations return rows in an order which might seem deterministic, but unless some order is guaranteed in documentation, you can't trust next version of same software or a different data set would behave same way. 

Make "Entity" an entry in and treat it as any other attribute. Also, do the same for "Category" (whatever your categories might be) and drop table 

Scenario: In production we have the same functional DB at different physical sites. The column order on a table don't match each other so I am writing a script to amend this (a 3rd party application requirement). Action: To do this I copied the table to a test server, made the changes required in the GUI and then used the save to script functionality. The generated script essentially creates a new table with the proper order, copies the data into there, deletes the original table and then renames the new table to the old/proper name. Query: The generated table definition includes in part column definitions such as: 

I only noticed this was for Firebird part way through so sorry if that doesn't work. You could also do: 

You could join the label table multiple times under different aliases specifying in the where clause that entries for the 2nd join be not equal to the 1st. Entries for the 3rd be not equal to the 1st or 2nd etc. e.g. Say we have a table of people 

That way I can have the same SP installed on each server, any bug/feature fixes doesn't need me to manually type up 10 different SPs to install. In the real world I'm also limited by SQL2000 however I'd be interested to hear in ideas using SQL2000 and/or SQL2008R2. The servers are a mixture of both. As I understand it Synonyms wouldn't help as on the instance with 3 DBs I'd still end up with each DB having it's own copy of the SP with it's own hard coded definition of which named synonym to use. I also don't feel dynamic SQL statements would be a good fit. There's more to it than the example snippet above and I use table variables to marshal all the work to be done- so that would be out of scope for all the other statements I need to work with. 

This is the answer I've found for why the file autolocation doesn't work in SQL 2012 for me. I don't believe it has anything to do with the backup being from SQL 2008. 

According to this post on the MSDN forums, it's simply not possible. You must use Windows Authentication to deploy the package. However, I found that if I click 'Convert to Package Deployment Model', the Save Copy As function allows me to save it to the SQL Server. However, attempting to do so gives me the following message: 

Column 23 which is suppose to be a tinyint (subscriber_type) is output as NUL instead of NULL when the value is NULL. I cannot figure out why it's doing this or a way to fix it. When I run sp_helpsubcription in SSMS the column contains the expected full NULL text. In order to replication this you need a replicated database with a publication in at least one subscription to it. This particular issue is with a transactional publication. It does this even if I output the results to the screen instead of to a file. Edit: The reason I'm doing this is because I can't issue an INSERT #TEMP EXEC sp_helpsubcription because of a NESTED EXEC INSERT inside sp_helppublication. 

I am getting failures on insert with the error: Msg 233, Level 16, State 2, Line 1 The column 'ID' in table 'dbo.pre_case' cannot be null. The insert statement is of the form 

Shortly our development team will be moving an existing SQL Server 2008R2 instance into our Production environment. Ahead of this I have been asked to review all the code on it for anything malacious (e.g. wiping their own order history from the sales database). This has come out of the blue and I'm not sure it's particularly physically feasible but I'm willing to give it a good go, at least from the SQL side of things. The question is, where can code exist? My draft list is 

So it looks like the database context was set in the 'background'. What would lead to this circumstance? (Of the GUI showing blank) It's a minor mystery that is nagging at me now. 

I recently got my first taste of the error "Heterogeneous queries require the ANSI_NULLS and ANSI_WARNINGS options to be set for the connection." which I hadn't come across. Nearly every resource I found on this site and elsewhere dealt with this occurring in a stored procedure. My specific scenario is a Vendor supplied app and DB, I can change the DB but not the app. I created a view on the DB to another server (via a linked server) but when I attempted to use this in the app I got the aforementioned error. I used SQL Profiler to prove the app opens its connections with ANSI NULLs and WARNINGS OFF. I used SSMS to prove the link works with the default values there. But unlike an SP I can not set ANSI WARNINGS on a view. I set ANSI WARNINGS on the DB as a test, the app now worked, but I couldn't afford a full regression test of the app so this solution does not work. I also tried many different ways of implementing the linked server including created an ODBC connection on the server and then using that. But it's like the app is explicitly setting ANSI WARNINGS to off. Not sure if matters but the source server is SQL2000 and the remote server was SQL2008R2. 

It appears that SSDT 2015 (though you can change the Deployment Target Server from SQL 2016 to either SQL 2012 or SQL 2014), will not allow you to save the package to the SQL Server of SQL 2012 or SQL 2014 without installing the SSIS runtimes. A similar error is thrown by dtutil which appears to have the 110, 120, and 130 versions installed (in the directories) during the SSDT2015 install. 

What in the world is going on? It seems like SQL refuses to use the subquery to get a smaller result set before running the outer query, it wants to use the whole table regardless of what I do. SQL Server 2012 Developer Edition 

I have a SSIS package with single Dataflow Task. The first step in this Dataflow is a Script component setup as a source, the default 'Output 0' has been renamed to 'Out' and it has a single column 'UserID' of W_STR, length 11. It is being routed to an OLEDB Destination table with a single column called [User ID] of type NVARCHAR(11). The mappings are set. When calling OutBuffer.AddRow() I get a Null Reference Exception. I've deleted the script component and re-created it several times, removing all other logic to the point that the script component looks like this: 

One of our developers created a view whereby one of the select columns was wrapped in an RTRIM function. That same column on the underlying table has a non-clustered index on it. Now queries using this view and a where statement on this column are failing to use the index due to the RTRIM. I need the view's output to be consistent as unfortunately this developer is no longer with us and I can't read his code. What are some options for optimisation? I've got one, but I'm hoping there is better. 

This should modify your execution plan. If it doesn't help could you post your plan for both this query and your original query (minus the Option line). Actually, eitherway I'd be intrigued to see this data. 

As I said in the question a lot of resources dealt with this issue but not when it pertained to a view. The solution I found was to 1- create a 2nd DB on my source server. 2- create a view on the 2nd db using the linked server to the remote DB 3- alter the view on the 1st DB to use the view on the 2nd DB 4- alter the 2nd DB to use ANSI WARNINGS ON at a DB level 

We have quite a few dataloading processes that run throughout the day all day long. These processes are setting the 610 flag on for their connection then turning it off when they are done. Because these messages are put into the ERROR LOG, our ERROR LOG is growing quite a bit. We've tried using the WITH NO_INFOMSGS parameter of DBCC but it still puts the entry in the ERROR LOG (even though it doesn't put it in the query output). Any ideas? The messages look like this: 

Yet still it fails on AddRow()... I'm using SQL Server Data Tools 2015 with my project in package deployment mode and the target SQL version set to SQL 2012. 

This is possible and we successfully completed an upgrade of a single failover cluster instance to SQL 2012 on a cluster with multiple SQL 2008 failover cluster instances. Perform the upgrade of the instance on the two nodes not hosting the instance first (be sure to select the correct instance when asked as in the screenshot), then finally perform the upgrade on the node hosting the instance. 

I'm extremely frustrated. I'm using SQL Server Data Tools 2015. I have an Integration Services project and I want to deploy a single package of this solution to SQL Server 2012. I've set the solution to Deployment Target Server Version to SQL 2012. I right click on the package and select Deploy, however at the Select Destination part of the wizard, it only allows me to select a server name (and not enter any credentials). However, I need to enter a specific username and password as my domain account is not a valid login. I understand that that wizard will eventually run isdeploymentwizard.exe and I looked at the parameters for it as well and do not see a way to enter any connection information outside of a server name. How can I deploy this package to the server using a username and password instead of a trusted account? I feel like I must be missing something incredibly stupid, because I was unable to find someone with a similar issue even after searching Google for an hour. Apparently everyone deploying to SQL Server from SSDT2015 is using a trusted account. Edit: In older versions of BIDS, you could open the project and select File > Save Copy of .dtsx as then save it to the SQL server and use credentials. However in SSDT, the Save Copy of option only allows you to save the package locally.