While looking for research on a slightly different subject, I came across this study, which shows a fairly significant amount of improvement in untrained individuals engaging in a chronic (long term) stretching program. 

Now for your specific situation, the climate and elevation between the two locales are fairly similar, so barring some major difference on race day, I would not count those. You give your nutrition, but you don't state if it is the same. Since you say they "only had" certain items, I am guessing that it is less than you trained with. Might want to have a snack belt or something next time, just in case. For the pacing and terrain, I am putting forth as a guess that the extra hills, even slight, plus the different nutrition are what threw off your game. (Unless it was because North Korea, I am surprised they closed the finish gates at 4 hours. That's an awfully short time for a typical non elite marathon group). The final thing to consider, is that when people say "I feel fit but I just can't make myself go", is that you are over trained or not rested enough. You don't mention what kind of taper you had, or how long the rest was in your training plan, but it may be that you weren't rested enough. Don't worry, a lot of these things are learned through experience. Keep at it, and keep a log of things you do in training, see what common elements are there on the days you feel great, and try and put that all together on race day. Have fun with it! 

As it stands, you may be fit enough, but you are not trained enough, unless you plan on walking pretty much the entire run portion of the event. Most marathon plans (Which is a distance shorter than the 30 miles) will have you running 50-70 miles a week, with quite a few runs in the 10-15 mile range. However, I think the biggest limiter right now is your swimming. At 20 minutes per 1/2 mile, you are going to be in the water for two hours, assuming you can hold the same pace the entire time. That is a very long time to be in the water doing full body exercise. What I would recommend is set up your own "mini" triathlon. Drive your bike to a local lake or pool. Swim your 1/2 mile, get on the bike and ride 30-40 miles at your 15 mph pace (Out and back, then throw your bike into the car), and then go run 2-3 miles. It's a lot more difficult than you think, when you stack everything on top of each other. If you maintain the same level of training you have now, I would predict that you would end up not finishing the bike leg, or possibly finishing it outside of the time cutoffs (Most 1/2 Iron distance events, which is about what that is have time limits for each event). My recommendation would be to go to a site such as beginnertriathlete.com, and look at their 1/2 Ironman plans. I would also confirm the distances, as the one that you describe has a run leg that is more than a full Ironman run distance, and a swim leg that is 50% longer than an Ironman distance. (Are you sure it wasn't 3k, 60k, 30k? That would make it about 1.5 mile swim, 37 mile bike and 18 mile run. Still odd distances, but much closer than if it is miles). 

Loss rate - Initially, you will lose weight in large amounts, and you may see high daily fluctuations. This is normal. This is water weight effects, and your body adjusting to new activity. This will slow down as you start approaching your goal weight, and this is normal. Timeline - Don't expect that if you have 80 lbs to lose that you can do it in a few months, despite what commercials tell you. 80 lbs can take quite a long time to lose, especially as you get closer to the 80 side. Prudence - The big alarm bell that is ringing is that you are going to start a 5 day a week regimen AND clean up your diet. While I applaud the ambition, you are setting a higher likelihood of slipping back and/or failing. Additionally, depending on the activity you are choosing, you may be so sore by day 3 that you won't want to move. 

It's possible that it will improve your time, but not because you are getting in better running shape. Rather, you are working on your calf strength and rebound ability. This in turn should result in a slightly more efficient running stride. However, as brent points out, it's not a substitute for running, and any gains that you might make are at best going to be 1-2 seconds off of your current pace. The best advice I've ever seen for endurance running is "Run. Run lots. Mostly slow, sometimes fast". The biggest mistake that amateur runners make is their easy runs are often at too hard a pace, and their hard runs are not hard enough. I would recommend using the Macmillan running calculator or similar, and figuring out what your goal paces and distances should be, based off of any events that you might be training for. 

Many people make the mistake in running that they think it's ok to just go out and run, without any base training. This misconception leads to a lot of injuries. My LONG run for the entire week is 10ish miles, and that's when I'm running between 30-40 miles/week. If you don't have a lot of base, then 10 miles twice a week is not what I would recommend. Plus, if you are just doing it for general fitness, then it is way overkill, and in all likelihood, contributing to your knee aggravation. (Especially if your shoes are unsuited/old). If I were coaching someone that wanted to do two 10 miles runs a week as their only training, I'd have expected them to get to the neighborhood of 50-60 miles/week as a base before that, and take into consideration that you will lose some running ability by dropping to just two runs a week. One other consideration, is that recovery will be impacted and possibly interfere with other workouts by limiting yourself to two long runs. As far as the knee pain on the bike, I would suspect that you have some sort of positional setup that is wrong, or that you are approaching the bike the way you are the run, getting on and hammering at a super high cadence. Just about all cardio activities, you need to have good form, and a good base, otherwise it's easy to hurt yourself. For general fitness, I would have you do 3-5 miles twice a week, moderate pace with a few :30 second pickups where you increase your pace 20-30% then back to moderate pace. General fitness is not that hard to achieve, and you definitely can do it without two 10 mile runs. 

What is going to improve your vertical by quite a bit is working on your technique in addition to the muscular strength aspects. A standing vertical is going to be much different than trying to leap to catch a disc from nearly a full run. There are a few different components to this type of a vertical jump. Blocking - This is a term most often used in gymnastics, and it means to take horizontal momentum and turn it into vertical momentum. This is done by being able to plant either a foot, both feet or hands to stop horizontal motion without stopping, and give a push upwards to transfer momentum upwards. The trick is being able to NOT come to a full stop when you do this. One of the better visual examples is high jumpers. They come in at an angle, dip and plant a foot slightly, and use their other leg to drive up and help transfer the run to the leap. There are numerous training videos on the net for this (Blocking, I mean, not high jump.) Next is the arm/leg motions. Part of this upward drive is augmented by the upward swing of the arms, and the upward drive of the non planting leg. Not only does this take strength, but timing and flexibility so that they are all coordinated together to add to the momentum of your motion. This just takes practice. Flexibility is another component. The more vertical you can drive your knee upwards, the better your leap is going to be. If you aren't very flexible, then you will be wasting some of your momentum out in front of you rather than contributing to upward motion. The tighter to your body and the higher you can drive your knee the more it will add to the direction of travel that you want. This means that quads and hamstrings all need to be flexible. Watch high jumpers, parkour, martial arts tricksters, gymnasts. All are going to have much greater vertical leaps from moving over their standing vertical. There are some NBA players that can't dunk from a standing leap, yet can soar way over the rim when leaping from motion. One final consideration is being able to activate the stretch reflex as well, which will give an extra bit of oomph to the jump. This can be done by adding plyometrics to your exercise routine, which will help to train yourself to utilize that. But again, plyometrics are a bit more advanced, which also means a higher injury risk. Read up on them before just "jumping in" and doing them.