Let $C$ be a category. The groupoid completion of $C$ is the free groupoid on $C$, i.e. the category $C[C^{-1}]$ obtained by localizing at everything. Recall that the classifying space $\mathbf{B}C$ of $C$ is the geometric realization of the nerve of $C$. It's well-known that there is an equivalence of groupoids $C[C^{-1}] \simeq \Pi_1(\mathbf{B}C)$ between the groupoid completion of $C$ and the fundamental groupoid of the classifying space of $C$. Now let $\mathcal{C}$ be a topologically-enriched category. Now the groupoid completion $\mathcal{C}[C^{-1}]$ is a topological groupoid. There is also a classifying space $\mathbb{B}\mathcal{C}$, which is the geometric realization of the nerve of $\mathcal{C}$ (where the nerve of $\mathcal{C}$ is a simplicial space). But the fundamental groupoid $\Pi_1(\mathbb{B}\mathcal{C})$ is discrete, so it is generally not equivalent to $\mathcal{C}[\mathcal{C}^{-1}]$. Question. Can we recover $\mathcal{C}[C^{-1}]$ up to equivalence of topological groupoids from $\mathbb{B}\mathcal{C}$ in some other way? More generally, what kind of homotopical significance does $\mathcal{C}[\mathcal{C}^{-1}]$ have? Does it fit into a sequence of topological groups analogous to the usual homotopy groups, and is there perhaps a natural model structure on topologically-enriched categories or simplicial spaces where the weak equivalences are the morphisms inverted by these functors? 

Let $C$ be a category. The twisted arrow category $Tw(C)$ can be refined to a double category $TTw(C)$ by making morphisms on the left "vertical" and morphisms on the right "horizontal". Question: I'm wondering if this construction, and its relative versions where we splice in a functor, has a name, or has been studied category-theoretically. Motivation: Variants of the relative version of this construction seem to be useful in algebraic K-theory, allowing one to leverage various powerful tools involving bisimplicial sets (or not -- cf. McCarthy's short, elementary proof of the additivity theorem). This leaves me surprised that I'm not familiar with this construction in a purely category-theoretic context. As a bisimplicial set: The double nerve of $TTw(C)$ is the bisimplicial set 

To expand on Dmitri Pavlov's answer, the recipe for colimits, as in any monadic category, will be the following. 

Another oft-used instance of this is when $C = Set$ and $I = Ob J$, then this says that the presheaf category $Set^I$ is both monadic and comonadic over $Set^{Ob I} = Set/ Ob I$, a slice of $Set$. 

Then $\mathcal{C}$ is injectively closed. Proof sketch: One shows that in such a category, an object is injective if and only if it lifts against monomorphisms between finitely-presentable objects. This uses the "strong Noetherian" property. This implies, in conjunction with the Noetherianity property again, that injective objects are closed under filtered colimits; since they are also closed under finite direct sums, they are thus closed under arbitrary direct sums. Corollary: Let $R$ be a "strongly Noetherian ring" in the sense that $R$-$\mathrm{Mod}$ is "strongly Noetherian", and suppose that $\mathcal{C}$ is a full abelian subcategory of $R$-$\mathrm{Mod}$ which is 

In either case, I wonder: is it clearly impossible, by some modification of the construction of these categories, to get things to work over non-smooth schemes? Would this be desireable? 

Here's a variation which is true, when interpreted in a suitably non-strict / higher categorical sense (for example, "functor" means "pseudofunctor" below). I'm not sure on which side of the Grothendieck construction you prefer to define (pre)stacks and (pre)sheaves, so let's do both versions: 

For a nonuninteresting example, take the localization $R = \mathbb Z[x]_S$ where $S = \{f(x) \in \mathbb Z[x] \mid f(0) = 1\}$. The maximal ideals of $R$ are of the form $(p,x)$ where $p \in \operatorname{Spec} \mathbb Z$. So the Jacobson radical is $(x)$, which is not uninteresting. But this example seems rather artificial to me; for example I don't know anywhere a ring like this would show up in algebraic geometry. 

So the fact that the braidings are trivial on $Pic(R)$ reduces to the fact that the dimension of an invertible module is $1$ rather than $-1$. 

(here's the link again), it follows (once we observe that the representable simplicial sets are projective, so their coproduct is too, and that a dense generator is a regular generator) that $\mathrm{Hom}(\sum_n \Delta^n, 1): \mathsf{sSet} \to \mathsf{Set}$ is monadic, surprising as that seems! And categories and simplicial sets are just certain types of $M$-set where $M$ is the endomorphism monoid of $\sum_n \Delta^n$ (via full, reflective inclusions)! I haven't thought about how to characterize the image of these inclusion functors. In any 2-valued Grothendieck topos (i.e. a topos category such that every non-initial object has a point), the coproduct of a dense generating set similarly contains every member of the generating set as a retract, and so serves as a dense generating object. If this topos is a presheaf category where the base category has a terminal object, then the representables are a projective dense generating family, so their coproduct is a projective dense generating object, so 2-valued presheaf toposes where 1 is projective are monadic over $\mathsf{Set}$. 

Let me just record a few notes on Anton's very nice answer since my comments are already overflowing. This is mostly for my own benefit, and I'm making it community wiki. Last things first, the argument proceeds by first showing that the "exact density" $\eta$ is linear, and then bootstraps to show that $\omega$ is linear too. In showing that $\eta$ is linear, the only fact used (besides the fact that $\eta$ is a density) is that $\eta$ integrates to 0 over any closed submanifold by the usual Stokes' Theorem-type argument: $\int_S \eta = \int_{\partial S} \omega = \int_{\emptyset} \omega = 0$. This implication is used twice in the bootstrap argument, applied first to $\eta$ and then to $\omega - \omega'$: very elegant. To show that $\eta$ is linear, Anton formulates a very nice criterion of linearity, that $\sum_{i=1}^n s_i = 0$ should imply that $\sum_{i=1}^n \eta(s_i) = 0$. I believe that we can take $n=3$ here (in particular, let's forget that I used $n$ to denote the dimension of the ambient space way back in the problem statement). The heart of the proof is to apply the Burago-Ivanov theorem. The point is that the integral in the theorem statement becomes just the sum $s_1 + \dots + s_n = 0$. So the theorem gives us a closed submanifold $S$ whose tangents are concentrated along the $s_i$, with appropriate weighting, except for a set of Euclidean measure $< \epsilon$. Following Anton's comment (with updated notation), $\int_S \eta = \int_{S_1} \eta + \int_{S_2} \eta = \sum \eta(s_i) + O_{\eta}(\epsilon)$ where $S_1 \subset S$ is the set of points where $S$ is tangent to some $s_i$ and $S_2 \subset S$ is the remainder. Now, as advertized, we use the fact that $\eta$ integrates to 0 over the closed submanifold $S$: $\int_S \eta = 0$, so $\sum \eta(s_i) = O_{\eta}(\epsilon)$. Since $\epsilon>0$ was arbitrary, we have $ \sum \eta(s_i) = 0$. The Burago-Ivanov theorem was a little intimidating for me. There is a measure on the Grassmanian and a weird $\Lambda^k(\mathbb{R}^n)$ - valued integral over the Grassmanian (note that "$x$" in the integral denotes the identity function when the Grassmanian is regarded as a subspace of $\Lambda^k(\mathbb{R}^n)$, or alternatively it denotes the inclusion map $G(k,n) \to \Lambda^k(\mathbb{R}^n)$). But it's not so bad. The point of the theorem is that it's actually easy to construct measures on the Grassmanian. The "geometric" way is to take some surface $S$ and pushforward its Euclidean surface area along the Gauss map: the resulting measure tells you how much of the surface is parallel to a given plane represented by a point in the Grassmanian. Burago and Ivanov call this the "weighted Gaussian image" of the surface $S$. The "algebraic" way is to simply pick a finite number of unit $k$-vectors $u_1, \dots, u_N$, and assign weights $\lambda_i$ to them to form a discrete measure $\mu$ with $\mu(u_i) = \lambda_i$. For example, Anton constructs a measure this way in his argument. We can ask whether an algebraically-constructed measure also arises from the geometric construction, as a weighted Gaussian image. Any finitely-supported measure arises geometrically by taking a bunch of disconnected shapes of appropriate areas which lie in the appropriate planes. But according to Burago and Ivanov, we can do better than this (if we're willing to allow an $\epsilon$ of room): we can can construct such a surface whose boundary is controlled by the integral of the measure (which, again, for a discrete measure is a weighted sum of its supporting $k$-vectors). In particular, if the integral / sum comes out to zero, we can take the surface to be closed: this correspondence between an algebraic condition (related to linearity) and a geometric condition amenable to the Stokes' criterion is exactly what we need. The $\epsilon$ of room corresponds to parts of the surface whose tangent planes weren't supported by our measure. This is needed because for a general set of planes we can't quite construct a closed polytope with sides parallel to exactly those planes. For example, the planes might be linearly independent, so there's no lower-dimensional subspace for them to intersect along. Given that there are such geometric obstructions, it's pretty remarkable that the Burago-Ivanov theorem actually holds! What does such surfaces look like? Burago and Ivanov provide one example: consider a triangular prism: by stretching the prism on one axis and shrinking on the other, you can shrink the end caps to be arbitrarily small while maintaining constant area of the other sides. This is the sort of thing that has to happen. 

Is $\mathrm{sd}^2 (\Delta^n) = \mathrm{sd}^2(\partial \Delta^n) \times \Delta^1 \cup_{\mathrm{sd}^2(\partial \Delta^n) \times \{1\}} Cone(\mathrm{sd}^2(\partial \Delta^n))$ ? Here $\mathrm{sd}^2$ means the second barycentric subdivision of a simplicial set / complex, and $Cone(\mathrm{sd}^2(\partial \Delta^n)) = \mathrm{sd}^2(\partial \Delta^n) \times \Delta^1 / (\mathrm{sd}^2(\partial \Delta^n) \times \{0\})$. I've verified this for $n\leq 2$ by drawing pictures. Is this in fact the case for all $n$? And is it written down somewhere? If so, then presumably there's a generalization of this description to a description of $\mathrm{sd}^k(\Delta^n)$ for higher $n$, but it's not so simple. I believe that $\mathrm{sd}^k(\Delta^n)$ will always divide into $2^{k-1} + 1$ "layers" according to the minimum number of edges one must traverse to get to the barycenter -- I think these are nested subcomplexes which are all homeomorphic to $S^{n-1}$ (except for the 0th layer at the barycenter itself), and I think that the edges connecting two adjacent layers all point in the same direction, which alternates from one layer to the next. But these layers (even excluding the central point) are not isomorphic simplicial sets -- for example in $\mathrm{sd}^3(\Delta^2)$ the layers have 0, 24, 24, 48, and 24 non-degenerate edges as one goes out from the center. But what I really happen to care about is what's going on just for $k=2$ and arbitrary $n$. (That's what I need to compute a fibrant replacement in the Thomason model structure on $\mathsf{Cat}$ via the $Ex^2$ functor). 

But very little seems to be known about which "doctrines" (classes of limit-weights) are sound in general. In fact, the only examples given by ABLR of non-sound doctrines are the doctrine of pullbacks, and the doctrine of pullbacks + terminal objects -- neither of which is saturated! The saturation of the latter is, of course, all finite limits, which is sound. The conical saturation of pullbacks is the class of simply-connected and finitely-presentable categories, as discovered by Paré, which is not sound -- this can be seen by adapting ABLR's argument concerning pullbacks (Example 2.3.vii). 

$\mathcal{C}$ is right proper. There is an explicitly-describable set of generating acyclic cofibrations for $\mathcal{C}$. 

I'm a little late to the party. I agree with Dennis Nardin's comment that really any convenient category of spaces should be good for homotopy theory. By this, I mean any complete and cocomplete cartesian closed full subcategory of $\mathsf{Top}$ which includes the CW complexes and whose limits and colimits are not too far from those in $\mathsf{Top}$; in particular, homotopy groups of CW complexes should not change from those in $\mathsf{Top}$. $k$-spaces and its variants are rather large categories as these convenient categories go.[1] But sometimes you actually want to work with a smaller category of topological spaces -- usually asking for there to be a universal way to turn any topological space into one in your category without changing the weak homotopy type. For example, sequential spaces or delta-generated spaces, or variants with separation conditions, are good options for point-set level categories. These smaller categories have the advantage, unlike $k$-spaces and variants, of being locally presentable, which gives even better categorical control, and in particular allows all the techniques of combinatorial model categories to be brought to bear. An additional advantage of delta-generated spaces is that connected components are the same as path components, and there is a connected component functor, which is left-adjoint to the discrete space functor. There is a general recipe which allows one to cook up convenient categories of topological spaces. Start with a subcategory $\mathcal{C} \subseteq \mathsf{Top}$, and consider the category $\mathsf{Top}_\mathcal{C}$ which is the closure of $\mathcal{C}$ under colimits in $\mathsf{Top}$ [2]. If $\mathcal{C}$ consists of locally compact Hausdorff spaces [3] and is closed under finite products in $\mathsf{Top}$ [4], then $\mathsf{Top}_\mathcal{C}$ will be cartesian closed, and coreflective in $\mathsf{Top}$, so its colimits are computed as in $\mathsf{Top}$, and limits are computed by taking the ordinary limit and then making the topology finer to land back in $\mathsf{Top}_\mathcal{C}$. So as long as $\mathsf{Top}_\mathcal{C}$ includes the unit interval, it will also contain all CW complexes and have the right homotopy groups thereof, and hence be a convenient category of topological spaces. If in addition $\mathcal{C}$ is small, then $\mathsf{Top}_\mathcal{C}$ will have the added benefit of being locally presentable. If desired, additional separation conditions can also be added without much fuss. Delta-generated spaces are $\mathsf{Top}_\mathcal{C}$ when $\mathcal{C}$ is the category of topological simplices [5]. Sequential spaces are $\mathsf{Top}_\mathcal{C}$ when $\mathcal{C}$ consists of all metric spaces [6]. And $k$-spaces are $\mathsf{Top}_\mathcal{C}$ when $\mathcal{C}$ is all compact Hausdorff spaces. [1] To be fair, it's maybe an unnatural restriction to require the category to be a subcategory of $\mathsf{Top}$ - e.g. a supercategory like quasitopological spaces might do as well. But I'll let others discuss these options. [2] Another way to describe $\mathsf{Top}_\mathcal{C}$, familiar in the case of $k$-spaces, is the following. If $X$ is a space, say that $U\subseteq X$ is $\mathcal{C}$-open iff for every $C \in \mathcal{C}$ and map $f: C \to X$, the set $f^{-1}(U)$ is open. Then $X \in \mathsf{Top}_\mathcal{C}$ iff every $\mathcal{C}$-open subset of $X$ is open. An equivalent description (again familiar in the case of $k$-spaces) says that $X \in \mathsf{Top}_\mathcal{C}$ iff for every $Y \in \mathsf{Top}$ and every function $f: X \to Y$, if the induced map $\mathsf{Top}(C,X) \to \mathsf{Top}(C,Y)$ is continuous for every $C \in \mathcal{C}$, then $f$ is continuous. [3] Or more generally, exponentiable spaces. [4] This condition can be weakened to say that finite products in $\mathsf{Top}$ of objects of $\mathcal{C}$ are at least in $\mathsf{Top}_\mathcal{C}$. [5] Or equivalently, you could take $\mathcal{C}$ to be the category of CW complexes, or the category of manifolds, or you even just the one-object category consisting of the unit interval, or the real line; in all these cases $\mathsf{Top}_\mathcal{C}$ will still be exactly the delta-generated spaces. [6] Or equivalently, you could take $\mathcal{C}$ to be the category of first-countable spaces, or the category of second-countable spaces, or just the one-object category consisting of the one-point compactification of the natural numbers.