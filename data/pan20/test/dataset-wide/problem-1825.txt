iptables will list all your rules with packet counts. These can be valuable in determining if you are hitting particular rules. Given you have 200 or 300 rules, it would be a good idea to look at a tool to build and configure your firewall. I like Shorewall which has some good show functionality to list important data about the running firewall. Some of the features I like include: 

Bounces will be returned to the relay system. You must arrange for it to forward the bounces back to your system for processing. It may be simpler to process the bounces on it than getting the bounces forwarded back to your system. Do use a specific sending email address of the form "donotreploy@example.com". It should be in an appropriate domain or sub-domain for your application. In normal processing, you can expect some email to remain queued for a long time before being bounced. Normally, this will be in the range of 4 to 7 days. Some systems will accept the mail before deciding whether to deliver it or not. If they are well behaved you will not see bounces from them as they would risk generating backscatter spam if they did send a bounce message. EDIT: I would expect your email to be sent using the MX server which appears to be a different server than your web server. (Email sent from domains is unusual, and in my experience likely spam.) Using a second domain on the same server to send mail might be more appropriate. Neither of the domains you describe appear to be valid, so I can't verify your configuration. If you want the bounces to remain on your web server, use it as the MX for itself, or just omit the MX record. Configure a address that can be used to send information back about configuration issues. Likewise an address is recommended so that abuse reports can be sent to you. Both of these can be forward to users on the MX domain you refer to. 

You can make his conditional on the .html page not existing. The files would need to be renamed accordingly. Unless you block or externally redirect .php URLs, requests for .php pages will work. This kind of redirection can be difficult. 

It is possible some other process is consuming the memory and this is causing apache to page. If the server is not a dedicated webserver, then any other processes or combination of processes can cause this issue. Virtual machines can be paged by the host system if it needs memory. The behavior will be much the same as if the virtual machine was running short of memory. Running often helps identify resource limitations. Examine the captured output with selecting the time period when you experience issues. 

You might be able to get a small portion of your clients to accept a captive portal. However, these may break security of connections, so clients that need secure connections are likely to refused your service and switch to a different hotel. It is unlikely you will be able to easily lure those clients back. Very few protocols allow injection of something into the data stream, that would allow tracking a device by anything but MAC address or the associated IP address. 

The Windows machines should be able to use Samba to mount their drives. The Samba documentation covers this scenario in detail. For linux machines you can use NFS to mount the required shares. I use automount rules to mount home directories. Both these options should work over VPN for traveling users. 

Have you looked at the proxy capabilities of your web server? You may be able to proxy, and optionally cache the page. DNS would only work if you can dedicate a domain to this page. As you don't control the domain a CNAME record would be the preferred choice. The site you are hiding may not be configured in a way that will support you using your own domain to access the page. If you use DNS you are likely to run into problems. Any links on the page which specify the remote site will transfer your user to their site. Likewise any relative links on the page are likely to break, and won't lead back to your site. This can be mitigated if the site is hosting the page for you and are willing to set up a virtual server, and set the base for the page to your site. EDIT: If your are running apache2 the following configuration would serve from the server page . The response for requests for this URL will be served by fetching the page from . 

I am not an ISP, but do accept email. If I can't verify your rDNS then I am likely to block your email. If you are using your ISPs servers as a relay, give the Class C back and use their private namespace. As a mailer you need postmaster@ and abuse@ address open for every sending domain. Track bounces and bit bucket the rest. If you are mailing on behalf of someone use a secondary domain like campaign.client.com. Check out $URL$ Setup an SPF like 'v=spf1 a -all' for all your sending domains. This will help limit their use by spammer. Failing this SPF on your HELO will get your message rejected. I may investigate its use on the rDNS address of the host as well. It should be the same as the HELO address but unfortunately is not always. Bulk and automated mailers make blocking server forgeries difficult because they so often get their DNS and server configuration wrong. I hope you do it right. 

This would give a maximum of 4 messages every two minutes. Another approach would be to configure Postfix to rely via a server. Configure the relay server with the reception limits you need. You should be able to configure Postfix to relay only for the one host. Either of these solutions can result in your mail server's queue to grow out of control. 

I don't know if Exchange will handle this, but I enabled user suffixes. I use a different suffix for each newsletter, marketer, etc. Instead of , is use . If one of these addresses becomes a spam source I create an alias that fails delivery. The alias i use is . Users can create as many aliases as needed this way, and legitimate email is delivered. Blocking addresses is relatively easy. You will need to check how to implement both the suffix and alias mechanism in Exchange. Aliases need to be checked before suffixes are removed for this to work. 

On a small network I run on the router to provide DNS and DHCP services. It has the advantage of adding DHCP clients to DNS as well as using the file as a source for local addresses. It is much simpler to configure than . In either case DNS will require minimal resources. runs quite well on on OpenWrt router. 

Depending on the filesystem each file delete may result in rewriting that entire directory. For large directories that can be quite a hit. There are additional updates required to the inode table, and possibly a free space list. If the file system has a journal, changes are written to the journal; applied; and removed from the journal. This increases I/O requirements for write intensive activity. You may want to use a filesystem without a journal for the cache. Instead of ionice, you can use a sleep command to rate limit the actions. This will work even if ionice does not, but it will take a long time to delete all your files. 

Sites are increasingly using Certificate Pinning mechanisms which can break HTTPS access when using a Man-In-The-Middle proxy. Transparent proxies never worked well with HTTPS, and are becoming increasing broken. You can block traffic on port 443 except from the proxy. This will prevent unproxied requests. It is possible to use iptables to redirect unencryped (HTTP) requests to a transparent proxy. I would suggest publishing a "wpad.dat" file directing Internet bound traffic to your proxy. Many clients use automatic proxy discovery. This will enable clients to connect to the proxy in using non-transparent mechanisms, that will allow HTTPS connections. 

It is possible to conditionally include configuration file. This enables you a wide latitude in configuration. Read the Exim Specification to get an idea of the capabilities. There is also a FAQ. There are several router FAQ entries which could applied to your requirement. 

If you want only one to start remove the specification for the other. It indicates that the interface should be automatically started. If you are having problems with one interface, it may be helpful to start it manually until you have resolved the problem. You may also want to set a routing metric on the interface that should not be default route if both interfaces are active. You may want to check the output of after you try to start the interfaces. This should display any kernel messages generated and may make diagnosis easier. if is available can provide some good information about the interfaces. 

If you are using as your DHCP server, you can push the DNS domain, DNS search list, and router to the clients. This should resolve your issue. 

voretaq7 has the solution. I would move the DNS configuration back to your domain registrar. You should be able to do this with their web interface. You should not need their premium service, although they will likely offer it to you if they can. EDIT: For google apps you will need to setup a CNAME for www.example.com pointing to the appropriate google apps domain. This is the only data you can configure for www.example.com. Many domain registrars offer redirection of the sites. Configure redirection for the bare domain according to their documentation. If you can't redirect with your registrar, consider not setting up an A record for your bare domain (example.com). Browsers may add a prefix to the the domain when they can't get an address for the bare domain. This should do the required redirection. You will only need an A record if you have a server listening on example.com. For a mail server you need an MX record pointing to the mail server (mail.example.com), but not an A record for example.com. A last ditch solution would be to find someone willing to run a redirect server for you. (Traffic should be minimal.) Create an A record using their IP address. Instructions for redirecting a virtual host on Apache are at the end of the following solution. DynDNS.com has a webhop service that may do what you want for a fee. INCORRECT: The following solution is for for hosts supporting bare domains which does not include google apps. which uses CNAMES for the user's domain(s). Configure example.com and www.example.com with the IP address of your web server. While you are at it you may want to configure SPF records to discourage spammers from using your domain in spam messages. www.example.com should likely have an SPF record like . If you do send email from example.com an SPF record like or should be appropriate. If you weren't using Configure your web server to redirect requests to to . In Apache you can use the following two lines in you virtualhost configuration: 

SEO and email reputation are not linked except that you need to follow best practices for both. Before you do the mailing ensure: 

To resolve the attempted deliveries to route your can use a transport or an alias. I alias root to my email address. Ubuntu uses this router to prevent deliveries running as root. 

Exim will enforce the header rules if is true (default). Related settings include , , and . You should be able to avoid the fixups if you authenticate with a user listed in or belonging to one of the . It is also possible to conditionally bypass the fixup with the flag. The Sender line processing is documented in the Exim Specification If you want to risk delivery issues, you can modify your Exim configuration to not ensure you have the correct headers. The simplest option is to add a line to the top of your Exim configuration reading: 

The usual metrics which indicate problems include cpu utilization, memory utilization, load average, and disk utilization. For mail servers, the size of the mail queue is an important indicator. For web servers, the number of busy servers is an important measure. Excessive network throughput also leads to problems. If you have processes which need to check times NTP can be an important tool in keeping clocks in sync. Standard warning levels I have used include (warning, critical). You may want to adjust your values based on a number of factors. Higher values reduce the number of alerts, while lower values give you more time to react to developing problems. This might be a suitable starting point for a template. 

SPF shouldn't be causing a header to be added. Something else should be doing this. Look at your headers for some segment where there are lots of lines in a row which are indented (continuation lines). This will be your problem header. As you are using , your SPF record won't be that effective. You are better off coming up with a policy which wil enable you to end your spf record with '-all'. See my comments on Securing your Email Reputation with SPF. 

Start with top. It should list all or most of the run queue in the first page. Also 'ps r -A' will list all processes in the run queue. 

The NAT adapter could be either eth0 or eth1 depending on which one it is connected to. Run and remove the cable for either network. Wait a few seconds and reconnect. You will get a log message about the connection going up identifying which interface is which. I try to have eth0 the network (NAT) connection. I would suggest you install Shorewall and start with the two-interface configuration found in . Your network info for the NAT connection will likely be: 

The simplest solution is to ensure that www-data can navigate all the directories to /home/user1/public_html directory and use 755 directory permissions from public_html and down. Files in the public_html directory need to be world (other) readable. These command should enable access: